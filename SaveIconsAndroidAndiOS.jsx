/*** Original Author: @austynmahoney (https://github.com/austynmahoney)* Remixer 0: @marcmatta (https://github.com/marcmatta)*/var selectedExportOptions = {};var ios6p1ExportOptions = [    {        name: "Icon",        scaleFactor: 5.5664062499,        type: "iOS 6.1 and earlier"    },    {        name: "Icon@2x",        scaleFactor: 11.1328125,        type: "iOS 6.1 and earlier"    },    {        name: "Icon-72",        scaleFactor: 7.0312500001,        type: "iOS 6.1 and earlier"    },    {        name: "Icon-72@2x",        scaleFactor: 14.0625,        type: "iOS 6.1 and earlier"    },    {        name: "Icon-Small",        scaleFactor: 2.83203125,        type: "iOS 6.1 and earlier"    },    {        name: "Icon-Small@2x",        scaleFactor: 5.6640624999,        type: "iOS 6.1 and earlier"    },    {        name: "Icon-Small50",        scaleFactor: 4.8828125,        type: "iOS 6.1 and earlier"    },    {        name: "Icon-Small50@2x",        scaleFactor: 9.765625,        type: "iOS 6.1 and earlier"    }];var iosExportOptions = [    {        name: "iTunesArtwork",        scaleFactor: 50,        type: "iOS"    },    {        name: "iTunesArtwork@2x",        scaleFactor: 100,        type: "iOS"    },    {        name: "Icon-60@2x",        scaleFactor: 11.71875,        type: "iOS"    },    {        name: "Icon-60@3x",        scaleFactor: 17.578125,        type: "iOS"    },    {        name: "Icon-76",        scaleFactor: 7.4218749997,        type: "iOS"    },    {        name: "Icon-76@2x",        scaleFactor: 14.843749999,        type: "iOS"    },    {        name: "Icon-Small-40",        scaleFactor: 3.90625,        type: "iOS"    },    {        name: "Icon-Small-40@2x",        scaleFactor: 7.8125,        type: "iOS"    },    {        name: "Icon-Small-40@3x",        scaleFactor: 11.71875,        type: "iOS"    },    {        name: "Icon-Small",        scaleFactor: 2.83203125,        type: "iOS"    },    {        name: "Icon-Small@2x",        scaleFactor: 5.6640624999,        type: "iOS"    },    {        name: "Icon-Small@3x",        scaleFactor: 8.4960937499,        type: "iOS"    }];var folder = Folder.selectDialog("Select export directory");var document = app.activeDocument;if(document && folder) {    var dialog = new Window("dialog","Select export sizes");    var osGroup = dialog.add("group");        var ios6p1Checkboxes = createSelectionPanel("iOS", ios6p1ExportOptions, osGroup);    var iosCheckboxes = createSelectionPanel("iOS", iosExportOptions, osGroup);    var buttonGroup = dialog.add("group");    var okButton = buttonGroup.add("button", undefined, "Export");    var cancelButton = buttonGroup.add("button", undefined, "Cancel");        okButton.onClick = function() {        for (var key in selectedExportOptions) {            if (selectedExportOptions.hasOwnProperty(key)) {                var item = selectedExportOptions[key];                exportToFile(item.scaleFactor, item.name, item.type);            }        }        this.parent.parent.close();    };        cancelButton.onClick = function () {        this.parent.parent.close();    };    dialog.show();}function exportToFile(scaleFactor, resIdentifier, os) {    var i, ab, file, options, expFolder;    expFolder = new Folder(folder.fsName + "/" + os);	if (!expFolder.exists) {		expFolder.create();	}	for (i = document.artboards.length - 1; i >= 0; i--) {		document.artboards.setActiveArtboardIndex(i);		ab = document.artboards[i];         file = new File(expFolder.fsName + "/" + resIdentifier + ".png");                     options = new ExportOptionsPNG24();         options.transparency = true;         options.artBoardClipping = true;         options.antiAliasing = true;            options.verticalScale = scaleFactor;            options.horizontalScale = scaleFactor;            document.exportFile(file, ExportType.PNG24, options);	}};function createSelectionPanel(name, array, parent) {    var panel = parent.add("panel", undefined, name);    panel.alignChildren = "left";    for(var i = 0; i < array.length;  i++) {        var cb = panel.add("checkbox", undefined, "\u00A0" + array[i].name);        cb.item = array[i];        cb.value = true;        selectedExportOptions[array[i].name] = array[i];                cb.onClick = function() {            if(this.value) {                selectedExportOptions[this.item.name] = this.item;                //alert("added " + this.item.name);            } else {                delete selectedExportOptions[this.item.name];                //alert("deleted " + this.item.name);            }        };    }};